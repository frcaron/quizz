<ng-container
  *ngIf="{
    question: (question$ | async)!,
    questions: (questions$ | async)!,
    answer: (answer$ | async)!
  } as data"
>
  <div>
    <h1>Question {{ data.question.order }} / {{ data.questions.length }}</h1>
  </div>

  <ng-container [ngSwitch]="data.question.dto.answerType">
    <question-choice
      *ngSwitchCase="'choice'"
      [question]="$any(data.question.dto)"
      (answerChange)="onAnswerChange($event)"
    ></question-choice>
    <question-multiple-choice
      *ngSwitchCase="'multiple-choice'"
      [question]="$any(data.question.dto)"
      (answerChange)="onAnswerChange($event)"
    ></question-multiple-choice>
    <question-text
      *ngSwitchCase="'text'"
      [question]="$any(data.question.dto)"
      (answerChange)="onAnswerChange($event)"
    ></question-text>
  </ng-container>

  <div>
    <button mat-flat-button color="primary" (click)="next()" [disabled]="!data.answer">Valider</button>
  </div>
</ng-container>
